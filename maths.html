<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maths Guides | Senal Devinuwara</title>
    <style>
        :root { 
            --bg: #ffffff; 
            --text: #1a1a1a; 
            --accent: #007aff; 
            --subtle: #8e8e93;
            --card-bg: #f5f5f7; 
            --border: #e5e5e7;
        }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            line-height: 1.6; 
            color: var(--text); 
            margin: 0; 
            background: var(--bg); 
            padding: 0 25px; /* Added padding to body for overall spacing */
        }

        /* --- NAVIGATION BAR STYLES (Repeat from index.html) --- */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 40px;
            max-width: 700px; /* Aligns with main content */
            margin-left: auto;
            margin-right: auto;
        }

        .nav-logo {
            font-weight: 800;
            font-size: 1.2rem;
            text-decoration: none;
            color: var(--text);
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--subtle);
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--accent);
        }
        /* ----------------------------------------------------- */

        .page-header {
            max-width: 700px;
            margin: 0 auto 40px auto;
            text-align: center;
        }
        .page-header h1 {
            font-weight: 800;
            font-size: 3rem;
            letter-spacing: -0.03em;
            margin-bottom: 10px;
        }
        .page-header p {
            font-size: 1.1rem;
            color: var(--subtle);
        }

        .container {
            display: flex;
            justify-content: center;
            gap: 40px;
            max-width: 1000px; /* Wider container for content + TOC */
            margin: 0 auto;
        }

        .main-content {
            flex: 3; /* Takes 3 parts of the space */
            max-width: 700px;
            background: var(--bg);
            padding-bottom: 80px;
        }

        .main-content h2 {
            font-weight: 700;
            font-size: 1.8rem;
            margin-top: 3.5rem;
            margin-bottom: 1.5rem;
        }

        .main-content h3 {
            font-weight: 600;
            font-size: 1.4rem;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            color: var(--accent); /* Highlight H3s as TOC targets */
        }

        /* --- TABLE OF CONTENTS (TOC) STYLES --- */
        .toc-aside {
            flex: 1; /* Takes 1 part of the space */
            max-width: 250px;
            position: sticky;
            top: 100px; /* Adjust if your nav bar is taller */
            align-self: flex-start; /* Stays at the top */
            padding-left: 20px;
            font-size: 0.9rem;
            color: var(--subtle);
        }

        .toc-aside ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-aside li {
            margin-bottom: 8px;
            position: relative; /* For the active line */
        }

        .toc-aside a {
            text-decoration: none;
            color: var(--subtle);
            transition: color 0.2s;
            display: block; /* Make the whole area clickable */
            padding-left: 10px; /* Space for the line */
        }

        .toc-aside a:hover {
            color: var(--accent);
        }

        .toc-aside .active-link {
            color: var(--accent);
            font-weight: 600;
        }

        /* The scrolling line indicator */
        .toc-aside li .active-line {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: var(--accent);
            border-radius: 2px;
            opacity: 0; /* Hidden by default */
            transition: opacity 0.2s;
        }

        .toc-aside .active-link .active-line {
            opacity: 1; /* Visible when active */
        }
        /* -------------------------------------- */
        
        footer { margin-top: 80px; padding-bottom: 40px; font-size: 0.9rem; color: var(--subtle); text-align: center; max-width: 700px; margin-left: auto; margin-right: auto;}
        
        /* Mobile adjustments */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                gap: 20px;
            }
            .toc-aside {
                position: relative; /* Not sticky on mobile */
                top: auto;
                max-width: 100%;
                padding-left: 0;
                order: -1; /* Puts TOC above content on mobile */
                border-bottom: 1px solid var(--border);
                padding-bottom: 20px;
            }
            .nav-links { margin-top: 10px; }
            nav { flex-direction: column; gap: 15px; margin-bottom: 20px; }
            .main-content { max-width: 100%; }
        }
        /* Sidebar refinement */
.toc-aside { border-right: 1px solid var(--border); padding-right: 20px; padding-left: 0; }

/* The vertical progress line that fills up */
#progress-line {
    position: absolute;
    right: -1px;
    top: 0;
    width: 2px;
    background: var(--accent);
    height: 0%; /* Adjusted by JS */
    transition: height 0.1s ease-out;
    z-index: 2;
}

/* Unit Header Styles */
.toc-unit-header {
    font-weight: 700;
    color: var(--text);
    cursor: pointer;
    padding: 8px 0;
    display: flex;
    justify-content: space-between;
    font-size: 0.95rem;
}

/* Subunit list (the dropdown) */
.toc-sub-list {
    display: none; /* Hidden by default */
    padding-left: 15px;
    margin-bottom: 10px;
}

.toc-sub-list.open { display: block; }

.toc-aside a { padding-left: 0; margin-bottom: 4px; font-size: 0.85rem; }
html {
    scroll-behavior: smooth;
    /* This creates a 15% gap at the top so the 'centered' unit 
       isn't touching your navigation bar */
    scroll-padding-top: 15vh; 
}

/* Ensure the progress line is visible on top of the gray border */
#progress-line {
    position: absolute;
    right: -1px;
    top: 0;
    width: 2px;
    background: var(--accent);
    height: 0%; 
    transition: height 0.1s ease-out;
    z-index: 10;
}
    </style>
</head>
<body>

    <nav>
        <a href="index.html" class="nav-logo">senal.dev</a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="maths.html" class="active-link">Maths</a> <a href="science.html">Science</a>
            <a href="research.html">Papers</a>
            <a href="arts.html">Arts</a>
            <a href="CV.html">CV</a>
        </div>
    </nav>

    <div class="page-header">
        <h1>The World of Mathematics</h1>
        <p>From the foundations of Calculus to the abstractions of Pure Math, explore my guides and notes on fascinating mathematical topics.</p>
    </div>

    <div class="container">
        <aside class="toc-aside">
            <h3 style="margin-top:0; font-size:1rem; color:var(--text);">On This Page</h3>
            <ul id="toc-list">
                </ul>
        </aside>

        <main class="main-content">
            
            <section>
                <h2>Calculus</h2>
                
                <h3 id="calculus-i">1. Calculus I: The Language of Change</h3>
                <p>Calculus I introduces the fundamental concepts of limits, derivatives, and their applications. It's all about understanding instantaneous rates of change and the slope of a curve at any given point.</p>
                <p><strong>Analogy: The Speedometer.</strong> If Algebra gives you an average speed over a journey, Calculus I is like the speedometer, telling you the exact speed at every single moment, even when you're accelerating or braking.</p>
                <h3 id="calculus-ii">2. Calculus II: The Art of Accumulation</h3>
                <p>Calculus II delves into integration, which is essentially the reverse process of differentiation. It focuses on finding the area under curves, volumes of complex shapes, and the summation of infinite series.</p>
                <p><strong>Analogy: The Odometer.</strong> If Calculus I tells you your instantaneous speed, Calculus II is like the odometer, adding up all those tiny, changing speeds to give you the total distance traveled.</p>
                <h3 id="calculus-iii">3. Calculus III: Navigating Higher Dimensions</h3>
                <p>Calculus III extends the concepts of derivatives and integrals into three-dimensional space and beyond. It deals with multivariable functions, vectors, and the complexities of change across multiple dimensions.</p>
                <p><strong>Analogy: The Mountain Map.</strong> Imagine a hiking map with contour lines. Calculus III helps you understand not just how steep a path is (partial derivatives), but also the exact direction of the steepest ascent (the gradient vector) on a complex mountain surface.</p>
                </section>

            <section>
                <h2>Linear Algebra</h2>
                <h3 id="linear-algebra-intro">Introduction to Vectors and Matrices</h3>
                <p>Linear Algebra is the study of vectors, vector spaces, linear transformations, and systems of linear equations. It's the language of data science, computer graphics, and machine learning.</p>
                <p><strong>Analogy: The Choreography.</strong> Think of a dance troupe. Linear Algebra is like the choreographer, telling each dancer (vector) where to move and how to transform their positions in a coordinated system (matrix operations).</p>
                <h3 id="eigenvalues">Eigenvalues and Eigenvectors</h3>
                <p>These concepts are crucial for understanding the fundamental behavior of linear transformations. Eigenvectors are special vectors that are only scaled (stretched or compressed) by a linear transformation, without changing direction.</p>
                </section>

            <section>
                <h2>Pure Mathematics</h2>
                <h3 id="pure-math-intro">Exploring the Foundations of Math</h3>
                <p>Pure Mathematics focuses on abstract concepts and the fundamental nature of mathematics itself, often without direct real-world applications in mind. It builds logical structures and proofs from basic axioms.</p>
                <p><strong>Analogy: The Architect.</strong> If applied math builds houses, pure math designs the blueprints for how all possible buildings could be constructed, exploring the perfect geometry and structural integrity without a specific client in mind.</p>
                <h3 id="set-theory">Set Theory and Logic</h3>
                <p>The bedrock of modern mathematics, set theory defines how collections of objects (sets) behave, while mathematical logic provides the rules for reasoning and proof.</p>
                </section>

            </main>
    </div>

    <footer>
        <p>&copy; 2025 • Senal Devinuwara</p>
    </footer>

    <script>
     document.addEventListener('DOMContentLoaded', () => {
    const mainContent = document.querySelector('.main-content');
    const tocList = document.getElementById('toc-list');
    const sections = mainContent.querySelectorAll('h2, h3[id]');
    
    // 1. Setup Progress Line
    const tocAside = document.querySelector('.toc-aside');
    const progressLine = document.createElement('div');
    progressLine.id = 'progress-line';
    tocAside.appendChild(progressLine);

    // 2. Build Grouped TOC
    let activeSubList = null;
    sections.forEach(heading => {
        if (heading.tagName === 'H2') {
            const li = document.createElement('li');
            li.className = 'toc-unit';
            const header = document.createElement('div');
            header.className = 'toc-unit-header';
            header.innerHTML = `${heading.textContent} <span>▾</span>`;
            
            const subList = document.createElement('ul');
            subList.className = 'toc-sub-list';
            
            header.addEventListener('click', () => {
                subList.classList.toggle('open');
            });

            li.appendChild(header);
            li.appendChild(subList);
            tocList.appendChild(li);
            activeSubList = subList;
        } else if (heading.tagName === 'H3' && activeSubList) {
            const subLi = document.createElement('li');
            const a = document.createElement('a');
            a.href = `#${heading.id}`;
            a.textContent = heading.textContent;
            
            a.addEventListener('click', (e) => {
                e.preventDefault();
                // Scroll the element into the center of the screen
                const element = document.getElementById(heading.id);
                const offset = window.innerHeight / 2 - element.offsetHeight / 2;
                window.scrollTo({
                    top: element.offsetTop - offset,
                    behavior: 'smooth'
                });
            });

            subLi.appendChild(a);
            activeSubList.appendChild(subLi);
        }
    });

    // 3. Middle-of-Screen Highlighting Logic
    window.addEventListener('scroll', () => {
        const winScroll = document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        progressLine.style.height = scrolled + "%";

        let currentId = "";
        const middleOfScreen = window.scrollY + (window.innerHeight / 2);

        sections.forEach(section => {
            // Check if the middle of the screen has passed the top of the section
            if (middleOfScreen >= section.offsetTop) {
                currentId = section.id;
            }
        });

        document.querySelectorAll('.toc-sub-list a').forEach(link => {
            link.classList.remove('active-link');
            if (link.getAttribute('href') === `#${currentId}`) {
                link.classList.add('active-link');
                link.closest('.toc-sub-list').classList.add('open');
            }
        });
    });
});
    </script>
</body>
</html>
